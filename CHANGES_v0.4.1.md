# Version 0.4.1 更改说明

## 核心修复
- ✅ **单双周课程彻底适配**：保留原始日期区间，计算真实周覆盖率，自动判断是否使用RRULE
- 🧩 **事件聚合优化**：合并同一门课的多段行程，保持教室、讲师信息一致
- 🕒 **实际发生事件生成**：按发生日期输出VEVENT，避免RRULE对单双周课程的遗漏或重复

## 技术细节
- parseScheduleRow 挂载 dateRanges/isBiweekly 元数据，用于后续推断
- 新增日期工具函数，按周对事件进行对齐、统计覆盖率
- uildICS 先聚合课程，再根据覆盖率选择 RRULE 或独立事件生成策略

## 测试建议
1. 使用 downloads/others/我的课程表.html 触发导出，确认 IBMS 7001A 仅在指定单双周出现
2. 再导出一个常规周课（如 CS 101）确认仍生成 RRULE + EXDATE

